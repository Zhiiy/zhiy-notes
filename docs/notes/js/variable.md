# 变量

## 关键字

在 JavaScript 中有 3 个关键字可以声明变量：`var`、 `const` 和 `let`

| 特性         | `var`                            | `let`                             | `const`                        |
|-------------|-----------------------------------|-----------------------------------|--------------------------------|
| **作用域**   | 函数作用域或全局作用域             | 块级作用域                        | 块级作用域                        |
| **重新赋值** | 允许重新赋值                      | 允许重新赋值                      | 不允许重新赋值，需初始化          |
| **提升**     | 变量声明被提升，值为 `undefined`   | 变量声明被提升，不能在声明前使用 | 变量声明被提升，不能在声明前使用     |
| **使用场景** | 不推荐使用                        | 用于可变变量                      | 用于常量或不变的变量              |

### 变量提升

- 在使用关键字 `var` 声明变量时，变量会被提升到其所在作用域的顶部，初始值为 `undefined`
- `let` 和 `const` 声明的变量也会被提升，但在声明之前访问，会导致 `ReferenceError`, 这是因为它们存在 ***暂时性死区***

```js
console.log(a); // undefined
console.log(b); // error
console.log(c); // error


var a = 'a';
let b = 'b';
const c = 'c';

console.log(a); // 输出 'a'
console.log(b); // 输出 'b'
console.log(c); // 输出 'c'
```

:::tip ps. 函数声明优先于变量声明，函数声明会覆盖变量声明

```js
console.log(a) // [Function: a]
var a = 'var'
function a() {
  console.log('fn')
}
console.log(a) // var
```

:::

## 执行上下文

执行上下文（Execution Context）是 JavaScript 中一个重要的概念，它是代码执行时的环境。每当 JavaScript 执行一段代码时，都会创建一个执行上下文

### 变量环境

包含当前上下文中的所有变量和函数的引用。每个执行上下文都有自己的变量环境，存储局部变量和函数声明

### 词法环境

存储变量的绑定和作用域信息。它由一个环境记录（Environment Record）和一个指向外部词法环境的指针组成。环境记录包含了变量及其对应值
